<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>LzPlay</title>

  <!-- Tailwind + FontAwesome -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>

  <!-- Favicon -->
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2468/2468825.png" type="image/png"/>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
    body { font-family: 'Inter', sans-serif; }
    .btn-hover { transition: background-color 0.3s ease, transform 0.2s ease; }
    .btn-hover:hover { transform: translateY(-2px); }
  </style>
</head>
<body class="bg-[#f7f9fc] min-h-screen flex flex-col items-center justify-center px-4 sm:px-6 py-12">
  <div class="max-w-md w-full text-center">
    <!-- Logo -->
    <img 
      alt="Logo de LzPlay" 
      class="mx-auto rounded-3xl shadow-lg w-40 sm:w-56 md:w-64 lg:w-72" 
      src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEinLOZxc2owdDYorkfqLhG_RYF4SJ6SzpqaxeKIXh-oWMd10SIYY7wbLP9B0Sg2C8S8HHh4bqfmjEUzpMNR2TX_pMCmhLrDG1AP7UYyG29FrrSIJh4cmaA7lW8Ws9Ky2in9wBtax7H4WA8rOm26CSuhgMnP6E3QE5OeFS1rknZqKQCym2rcVSbnYIyzrLg/s1290/Imagen%20de%20WhatsApp%202025-08-27%20a%20las%2011.30.04_0601b9e6.jpg"/>

    <h1 class="mt-6 text-3xl font-extrabold text-gray-800">LzPlay</h1>
    <p class="mt-2 text-gray-600 text-base">Tu mejor opci√≥n si quieres 0 anuncios, solo en LzPlay!</p>
    <p class="mt-3 text-gray-600 text-sm leading-relaxed px-2">
      LzPlay fue creada para quienes buscan calidad y contenido gratuito. Aunque nuestro cat√°logo es limitado por ahora, pronto se a√±adir√°n m√°s opciones. ¬°Gracias por tu apoyo y paciencia!
    </p>

    <!-- Bot√≥n descargar Android -->
    <button onclick="downloadApk()"
       class="mt-6 w-full bg-[#0a7fff] hover:bg-[#0a7fffcc] text-white font-extrabold text-lg rounded-full py-3 shadow-[0_0_15px_rgba(10,127,255,0.4)] flex items-center justify-center gap-2 btn-hover">
      <img src="https://cdn.freebiesupply.com/logos/large/2x/android-logo-png-transparent.png" class="w-6 h-6" alt="Android"/>
      Descargar Aplicaci√≥n Android
    </button>

    <!-- Barra de progreso -->
    <div id="progressContainer" class="hidden w-full bg-gray-300 rounded-full mt-3">
      <div id="progressBar" class="bg-green-500 text-xs font-bold text-white text-center rounded-full" style="width: 0%">0%</div>
    </div>

    <!-- Bot√≥n descargar iOS -->
    <button onclick="openIphoneModal()"
       class="mt-4 w-full bg-[#222] hover:bg-[#444] text-white font-extrabold text-lg rounded-full py-3 shadow flex items-center justify-center gap-2 btn-hover">
      <img src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg" class="w-6 h-6" alt="iPhone"/>
      Descargar iOS
    </button>

    <!-- Donaciones -->
    <p class="mt-4 text-gray-500 text-sm">¬°Ap√≥yanos!</p>
    <div class="mt-3 flex flex-col sm:flex-row justify-center gap-2 sm:gap-4">
      <a class="text-blue-700 underline text-sm hover:text-blue-800" href="https://paypal.me/LzRdrgz">Donar v√≠a PayPal</a>
      <a class="text-blue-700 underline text-sm hover:text-blue-800" href="https://ko-fi.com/lzplay_oficial">Donar v√≠a Ko-Fi</a>
    </div>

    <!-- Bot√≥n compartir -->
    <div class="mt-6 flex justify-center gap-3">
      <button id="shareButton" class="flex items-center gap-2 bg-[#1877f2] hover:bg-[#1877f2cc] text-white font-semibold text-sm rounded px-4 py-2 btn-hover" type="button">
        <i class="fas fa-share"></i> Compartir
      </button>
    </div>
  </div>

  <!-- Modal iPhone -->
  <div id="iphoneModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50" onclick="closeIphoneModal(event)">
    <div class="bg-white text-gray-800 rounded-2xl shadow-xl p-6 w-96 max-h-[90vh] overflow-y-auto relative" onclick="event.stopPropagation()">
      <button onclick="closeIphoneModal()" class="absolute top-2 right-2 text-gray-500 hover:text-gray-800">‚úñ</button>
      <h2 class="text-lg font-bold text-center mb-4">üì± Instalaci√≥n en iPhone</h2>
      <ol class="list-decimal list-inside space-y-3 text-sm text-gray-700">
        <li>Abre esta p√°gina en Safari en tu iPhone.</li>
        <li>Toca el bot√≥n <b>Compartir</b> (cuadro con flecha hacia arriba).</li>
        <li>Selecciona <b>"A√±adir a la pantalla de inicio"</b>.</li>
        <li>Confirma con <b>A√±adir</b>.</li>
      </ol>
      <div class="mt-4 space-y-2">
        <img class="w-full rounded-lg shadow" src="https://i.imgur.com/VyGfI0G.png" alt="Paso 1"/>
        <img class="w-full rounded-lg shadow" src="https://i.imgur.com/UP7o3QD.png" alt="Paso 2"/>
      </div>
      <a href="https://lzplay-oficial.github.io/iphone" target="_blank"
         class="mt-5 block w-full bg-[#0a7fff] text-white font-semibold text-center py-2 rounded-lg shadow hover:bg-[#0a7fffcc]">
        Ir a la gu√≠a completa ‚Üí
      </a>
    </div>
  </div>

  <script>
    // Compartir
    document.getElementById('shareButton').addEventListener('click', async () => {
      const shareData = {
        title: 'LzPlay - La app sin anuncios',
        text: 'Descarga LzPlay, la app gratuita y sin anuncios. ¬°Calidad y simplicidad en un solo lugar!',
        url: window.location.href
      };
      try {
        if (navigator.share) {
          await navigator.share(shareData);
        } else {
          const shareText = `${shareData.title}\n${shareData.text}\n${shareData.url}`;
          await navigator.clipboard.writeText(shareText);
          alert('¬°Enlace copiado al portapapeles!');
        }
      } catch (err) {
        alert('Hubo un error al compartir.');
      }
    });

    // Descarga Android con progreso
    function downloadApk() {
      var url = "https://github.com/lzrdrz10/dw/releases/download/LZPLAY-OFICIAL/LzPlay.v.1.1.3.apk";
      var progressContainer = document.getElementById("progressContainer");
      var progressBar = document.getElementById("progressBar");

      progressContainer.classList.remove("hidden");

      fetch(url)
        .then(response => {
          if (!response.ok) throw new Error("Error al descargar");
          var contentLength = response.headers.get("content-length");
          if (!contentLength) throw new Error("No se puede medir progreso");
          var total = parseInt(contentLength, 10);
          var loaded = 0;

          var reader = response.body.getReader();
          var chunks = [];

          function read() {
            return reader.read().then(({done, value}) => {
              if (done) {
                var blob = new Blob(chunks);
                var a = document.createElement("a");
                a.href = URL.createObjectURL(blob);
                a.download = "LzPlay.v.1.1.3.apk";
                a.click();
                progressBar.textContent = "Completado ‚úì";
                progressBar.style.background = "limegreen";
                return;
              }
              loaded += value.length;
              chunks.push(value);
              var percent = Math.floor((loaded / total) * 100);
              progressBar.style.width = percent + "%";
              progressBar.textContent = percent + "%";
              return read();
            });
          }
          return read();
        })
        .catch(err => {
          console.error(err);
          progressBar.textContent = "Error";
          progressBar.style.background = "red";
        });
    }

    // Modal iPhone
    function openIphoneModal() {
      document.getElementById("iphoneModal").classList.remove("hidden");
    }
    function closeIphoneModal() {
      document.getElementById("iphoneModal").classList.add("hidden");
    }
  </script>
</body>
</html>
